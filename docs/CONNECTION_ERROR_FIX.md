# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è EXEC –ø–∏–Ω–æ–≤

## üö® –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞–ª–∏ –æ—à–∏–±–∫—É –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–µ–¥–∏–Ω–∏—Ç—å –ø–∏–Ω—ã:
```
Failed to create connection: Cannot connect exec to exec
```

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### üéØ –ò—Å—Ç–æ—á–Ω–∏–∫ –æ—à–∏–±–∫–∏
- **–§–∞–π–ª**: `src/pixelflow_studio/core/graph.py`, —Å—Ç—Ä–æ–∫–∞ 33
- **–ú–µ—Ç–æ–¥**: `Connection.__init__()`
- **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

### üß© –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã
1. **–û–¥–∏–Ω–∞–∫–æ–≤–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏–Ω–æ–≤** - –ø–æ–ø—ã—Ç–∫–∞ —Å–æ–µ–¥–∏–Ω–∏—Ç—å INPUT –∫ INPUT –∏–ª–∏ OUTPUT –∫ OUTPUT
2. **–£–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** - –ø–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ –ø–∏–Ω—É, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ —Å–æ–µ–¥–∏–Ω–µ–Ω
3. **–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Ç–∏–ø—ã** - –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é —Ç–∏–ø–æ–≤ –ø–∏–Ω–æ–≤
4. **–ü–æ–ø—ã—Ç–∫–∞ —Å–æ–µ–¥–∏–Ω–∏—Ç—å –ø–∏–Ω —Å–∞–º —Å —Å–æ–±–æ–π**

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### üõ†Ô∏è –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞

#### 1. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `can_connect_to()`
```python
def can_connect_to(self, other: Pin) -> bool:
    from loguru import logger
    
    # –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
    if self == other:
        logger.debug(f"‚ùå Cannot connect pin to itself: {self.name}")
        return False
    
    if self.direction == other.direction:
        logger.debug(f"‚ùå Cannot connect pins of same direction: {self.name}({self.direction.name}) -> {other.name}({other.direction.name})")
        return False
    
    # ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
```

#### 2. –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
```python
def __init__(self, output_pin: Pin, input_pin: Pin) -> None:
    if not output_pin.can_connect_to(input_pin):
        # –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–∫–∏
        error_details = []
        
        if output_pin.direction == input_pin.direction:
            error_details.append(f"both pins have same direction ({output_pin.direction.name})")
        elif not output_pin.pin_type.is_compatible_with(input_pin.pin_type):
            error_details.append(f"incompatible types ({output_pin.pin_type.name} -> {input_pin.pin_type.name})")
        # ... –¥—Ä—É–≥–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
        
        error_msg = f"Cannot connect {output_pin.name}({output_pin.pin_type.name}) to {input_pin.name}({input_pin.pin_type.name}): {', '.join(error_details)}"
        raise ValueError(error_msg)
```

### üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

#### üìä –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- **–¢–æ—á–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞** –æ—à–∏–±–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- **–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** –≤ –ª–æ–≥–∞—Ö
- **–¢–∏–ø—ã –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è** –ø–∏–Ω–æ–≤ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏

#### üîç –ü—Ä–∏–º–µ—Ä—ã –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
```
‚ùå Cannot connect pins of same direction: exec(INPUT) -> exec(INPUT)
‚ùå Input pin already connected: image (has 1 connections)  
‚ùå Incompatible pin types: STRING -> IMAGE
‚úÖ Can connect: exec(EXEC, OUTPUT) -> exec(EXEC, INPUT)
```

#### üöÄ –£–ª—É—á—à–µ–Ω–Ω—ã–π UX
- **–ü–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏** –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** –ø—Ä–æ–±–ª–µ–º
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

## üéÆ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### üîç –û—Ç–ª–∞–¥–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
1. **–í–∫–ª—é—á–∏—Ç–µ DEBUG –ª–æ–≥–∏** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
2. **–ü–æ–ø—ã—Ç–∞–π—Ç–µ—Å—å —Å–æ–∑–¥–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ**
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### üìã –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

#### üî¥ "Both pins have same direction"
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–µ–¥–∏–Ω–∏—Ç—å INPUT –∫ INPUT –∏–ª–∏ OUTPUT –∫ OUTPUT
**–†–µ—à–µ–Ω–∏–µ**: –°–æ–µ–¥–∏–Ω—è–π—Ç–µ OUTPUT –∫ INPUT

#### üî¥ "Input pin already connected"  
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–∏–Ω —É–∂–µ –∏–º–µ–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
**–†–µ—à–µ–Ω–∏–µ**: –£–¥–∞–ª–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π –ø–∏–Ω

#### üî¥ "Incompatible types"
**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–∏–ø—ã –ø–∏–Ω–æ–≤ –Ω–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä –∏–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Ç–∏–ø—ã

## üéØ EXEC –ø–∏–Ω—ã: –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ EXEC –ø–∏–Ω–æ–≤
```
[Node A] exec(OUTPUT) ‚îÄ‚îÄ‚Üí exec(INPUT) [Node B]
```

### ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
```
[Node A] exec(OUTPUT) ‚îÄ‚îÄX‚îÄ‚îÄ‚Üí exec(OUTPUT) [Node B]  # Same direction!
[Node A] exec(INPUT)  ‚îÄ‚îÄX‚îÄ‚îÄ‚Üí exec(INPUT)  [Node B]  # Same direction!
```

### üîÑ –¶–µ–ø–æ—á–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
```
[Load Image] exec ‚îÄ‚îÄ‚Üí exec [Preview] exec ‚îÄ‚îÄ‚Üí exec [Save Image]
```

## üèÜ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö**
- ‚úÖ **–û—Ç–ª–∞–¥–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- ‚úÖ **–ü–æ–Ω—è—Ç–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** –ø—Ä–æ–±–ª–µ–º
- ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω—ã–π UX** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- **–ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** –ø—Ä–æ–±–ª–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- **–ü–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏** –≤–º–µ—Å—Ç–æ –∑–∞–≥–∞–¥–æ—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- **–£–¥–æ–±–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ** error handling

**–¢–µ–ø–µ—Ä—å –≤—Å–µ –æ—à–∏–±–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏–º–µ—é—Ç —á–µ—Ç–∫–æ–µ –∏ –ø–æ–Ω—è—Ç–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ!** üéØ